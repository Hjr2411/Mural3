<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mural de Comunicação SyM</title>
  <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
  <div id="loading">Carregando...</div>

  <div id="loginScreen">
    <div class="login-box">
      <h2>Mural de Comunicação SyM</h2>
      <p>Sistema de Informações Corporativas</p>
      <input type="text" id="username" placeholder="Nome de usuário"/>
      <input type="password" id="password" placeholder="Senha"/>
      <button onclick="login()">Entrar</button>
    </div>
  </div>

  <div id="mainApp" style="display: none;">
    <header>
      <h1>Mural <span id="userDisplay"></span> - SyM</h1>
      <div>
        <button id="adminPanelBtn" style="display: none;">Painel Administrativo</button>
        <button onclick="logout()">Sair</button>
      </div>
    </header>

    <main>
      <section id="adminPanel" style="display: none;">
        <h2>Painel Administrativo</h2>
        <button onclick="openManageSections()">Gerenciar Seções</button>
        <button onclick="openManageUsers()">Gerenciar Usuários</button>
      </section>

      <section id="manageSections" style="display: none;">
        <h2>Gerenciar Seções do Mural</h2>
        <button onclick="openNewSectionModal()">Nova Seção</button>
        <button id="sortSectionsBtn" onclick="enableSortMode()">Ordenar Cards</button>
      </section>

      <section id="manageUsers" style="display: none;">
        <h2>Gerenciar Usuários</h2>
        <button onclick="openNewUserModal()">Novo Usuário</button>
      </section>

      <section id="mural">
        <h2>Mural de Informações</h2>
        <p>Última atualização: <span id="lastUpdate">--</span></p>
        <div id="muralContent"></div>
      </section>
    </main>
  </div>

  <!-- Modal Nova Seção -->
  <div id="newSectionModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('newSectionModal')">&times;</span>
      <h3>Nova Seção</h3>
      <input type="text" id="sectionTitle" placeholder="Título da Seção"/>
      <select id="contentType">
        <option value="">Selecione o tipo</option>
        <option value="texto">Texto Simples</option>
        <option value="meta">Meta com Progresso</option>
        <option value="folgas">Lista de Folgas</option>
        <option value="plantao">Tabela de Plantão</option>
        <option value="enquete">Enquete (Sim/Não)</option>
        <option value="sugestao">Caixa de Sugestões</option>
      </select>
      <div id="enqueteExtra" style="display: none; margin-top: 10px;">
        <input type="text" id="enquetePergunta" placeholder="Pergunta da enquete"/>
      </div>
      <div class="modal-buttons">
        <button onclick="closeModal('newSectionModal')">Cancelar</button>
        <button onclick="saveNewSection()">Salvar</button>
      </div>
    </div>
  </div>

  <!-- Modal Novo Usuário -->
  <div id="newUserModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('newUserModal')">&times;</span>
      <h3>Novo Usuário</h3>
      <input type="text" id="newUsername" placeholder="Nome de Usuário"/>
      <input type="password" id="newPassword" placeholder="Senha"/>
      <select id="userType">
        <option value="">Selecione o tipo</option>
        <option value="admin">Administrador</option>
        <option value="leitor">Leitor</option>
      </select>
      <div class="modal-buttons">
        <button onclick="closeModal('newUserModal')">Cancelar</button>
        <button onclick="saveNewUser()">Salvar</button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
